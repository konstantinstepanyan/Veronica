document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".footer-form .form");console.log(e);const o=/^\+?[78][-\(]?\d{3}\)?-?\d{3}-?\d{2}-?\d{2}$/,t=new Popup({targetSelector:".popup-trigger",overlaySelector:".popup",windowSelector:".popup__window",closeBtnSelector:".popup__close",displayPopup:"flex",popupHeight:"100vh",popupWidth:"100%",disappearingTime:600,disappearingType:"linear",slidingTime:500,slidingType:"linear",slidingDir:"top",closeOnMiss:!0,closeOnKeys:"27, 67, 88"});e.addEventListener("submit",e=>{e.preventDefault();const n=document.querySelector(".footer-form__input_name").value.trim(),r=document.querySelector(".footer-form__input_phone").value.trim(),p=document.querySelector(".footer-form__input_textarea").value.trim();console.log(s);const i={name:n,tel:r,description:p,toString(){return`name=${this.name}&tel=${this.tel}&description=${this.description}`}}.toString();if(""!=n&&""!=r&&""!=p&&o.test(r)){console.log(`inputPhoneValue: ${r}`);const o="/amoapi_landing/script.php";return t.appearance("Ваши данные успешно отправлены!"),function(e,o,t=null){return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("POST",o),r.responseType="json",r.setRequestHeader("Content-Type","application/json"),r.onerror=(()=>{console.log(r.response)}),r.onload=(()=>{r.status>=400?n(r.response):e(r.response)}),r.send(t)})}(0,o,i).then(e=>console.log(e)).catch(e=>console.log(e)),document.querySelector(".footer-form__input_name").value="",document.querySelector(".footer-form__input_phone").value="",document.querySelector(".footer-form__input_textarea").value="",e.preventDefault(),!1}return t.appearance("Заполните все поля!"),e.preventDefault(),!1})});